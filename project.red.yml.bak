redVersion: "9"
cli:
  cwlVersion: "v1.0"
  class: "CommandLineTool"
  baseCommand: "run_project"
  doc: "tbd"

  stdout: "stdout.txt"
  stderr: "stderr.txt"

  inputs:
    learning_rate:
      type: "string?"
      inputBinding:
        prefix: "--lr"
      doc: "learning rate"

  outputs:
    out_model:
      type: "File"
      outputBinding:
        glob: "resources/model/model.tar"
      doc: "output model"

inputs:
  learning_rate: "7.5e-4"

outputs:
  out_model:
    class: "File"
    connector:
      command: "red-connector-ssh"
      access:
        host: "dt1.f4.htw-berlin.de"
        auth:
          username: "{{ssh_username}}"
          password: "{{ssh_password}}"
        filePath: "model.tar"

container:
  engine: "docker"
  settings:
    ram: 32000
    image:
      url: "maddingl/priornetworks"

execution:
  engine: "ccagency"
  settings: 
    access: 
      url: "https://agency.f4.htw-berlin.de/dt"
      auth:
        username: "{{agency_username}}"
        password: "{{agency_password}}"

