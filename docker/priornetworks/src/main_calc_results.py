import os

import numpy as np

SAVE_DIR = "resources/graphics"
JSON_DIR = "resources/json"
os.makedirs(SAVE_DIR, exist_ok=True)

results = {"auroc_mi": {"SVHN": {"SVHN": [99.9, 99.8, 99.9, 99.9, 99.8, 99.8, 99.7, 99.8, 99.8, 99.8],
                                 "TIM": [69.3, 69.2, 72.5, 68.2, 68.8, 71.6, 70.7, 69.2, 70.7, 70.2],
                                 "Random": [65.2, 66.7, 75.8, 22.8, 86.7, 88.5, 61.1, 72.3, 90.3, 31.8]},
                        "TIM": {"SVHN": [80.9, 83.4, 86.0, 84.5, 85.8, 80.7, 83.9, 87.5, 85.0, 84.2],
                                "TIM": [82.5, 82.5, 82.0, 81.9, 82.5, 81.2, 79.8, 82.1, 81.5, 81.8],
                                "Random": [95.8, 100.0, 99.5, 99.8, 99.3, 99.6, 98.2, 99.2, 97.2, 98.7]},
                        "Random": {"SVHN": [74.7, 75.8, 77.0, 68.9, 78.9, 69.0, 76.6, 73.6, 69.1, 66.1],
                                   "TIM": [69.1, 69.6, 70.0, 66.7, 70.2, 69.6, 70.5, 67.6, 68.0, 67.2],
                                   "Random": [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]}
                        },
           "auroc_de": {"SVHN": {"SVHN": [99.9, 99.8, 99.9, 99.9, 99.7, 99.8, 99.7, 99.8, 99.8, 99.7],
                                 "TIM": [71.3, 71.4, 73.7, 70.4, 71.3, 73.6, 72.4, 71.4, 72.9, 72.0],
                                 "Random": [64.0, 64.7, 74.7, 23.4, 86.4, 88.0, 60.4, 70.1, 91.3, 31.0]},
                        "TIM": {"SVHN": [81.4, 83.5, 86.2, 85.5, 85.9, 81.1, 84.2, 87.4, 85.4, 84.1],
                                "TIM": [82.3, 82.4, 82.0, 81.7, 82.2, 81.1, 79.9, 81.9, 81.4, 81.7],
                                "Random": [94.8, 99.9, 99.4, 99.7, 99.3, 99.4, 97.3, 98.9, 96.6, 98.3]},
                        "Random": {"SVHN": [77.2, 77.6, 79.1, 71.7, 80.3, 71.5, 78.4, 75.5, 71.1, 69.1],
                                   "TIM": [71.0, 71.2, 71.6, 68.7, 71.2, 71.0, 72.1, 69.2, 69.8, 69.2],
                                   "Random": [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]}
                        },
           "auroc_kl": {"SVHN": {"SVHN": [99.9, 99.8, 99.9, 99.9, 99.7, 99.8, 99.6, 99.8, 99.8, 99.7],
                                 "TIM": [70.1, 70.3, 73.0, 69.1, 70.1, 72.5, 71.5, 70.3, 71.6, 71.1],
                                 "Random": [62.5, 64.2, 73.7, 22.2, 86.1, 87.9, 62.0, 70.4, 89.6, 30.6]},
                        "TIM": {"SVHN": [80.5, 82.6, 85.3, 84.0, 85.2, 79.9, 83.2, 86.7, 84.5, 83.5],
                                "TIM": [81.9, 82.0, 81.6, 81.3, 81.9, 80.7, 79.4, 81.5, 80.9, 81.3],
                                "Random": [93.9, 99.9, 99.4, 99.6, 99.1, 99.3, 96.6, 98.6, 95.6, 98.1]},
                        "Random": {"SVHN": [75.0, 75.5, 77.2, 69.4, 78.8, 69.4, 76.7, 73.9, 70.1, 66.8],
                                   "TIM": [69.8, 70.2, 70.6, 67.6, 70.6, 70.2, 71.1, 68.5, 68.9, 68.2],
                                   "Random": [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]}
                        },
           "ood_precision": {"SVHN": {"SVHN": [10.7, 10.6, 10.4, 10.5, 11.0, 11.8, 10.7, 11.2, 11.6],
                                      "TIM": [168.4, 128.1, 69.0, 170.1, 106.5, 105.1, 150.2, 119.5, 116.5, 163.4],
                                      "Random": [136.8, 99.8, 54.7, 624.2, 47.6, 44.7, 117.2, 76.1, 46.7, 424.0]},
                             "TIM": {"SVHN": [33.2, 40.1, 34.5, 35.9, 30.0, 38.0, 37.8, 29.6, 32.7, 35.1],
                                     "TIM": [36.1, 46.5, 46.3, 45.0, 39.7, 48.2, 54.9, 43.2, 42.1, 45.7],
                                     "Random": [19.3, 14.3, 16.2, 15.8, 16.4, 15.8, 18.6, 16.7, 19.4, 18.1]},
                             "Random": {"SVHN": [85.4, 89.9, 82.2, 123.0, 60.6, 133.8, 85.6, 109.8, 127.9, 129.6],
                                        "TIM": [117.9, 130.6, 119.8, 150.0, 94.1, 153.1, 116.4, 143.1, 162.9, 133.4],
                                        "Random": [10.1, 10.0, 10.2, 10.1, 10.1, 10.2, 10.1, 10.2, 10.1, 10.1]}
                             }
           }

if __name__ == '__main__':
    for metric in results:
        print(metric)
        for ood_train_dataset in results[metric]:
            for ood_test_dataset in results[metric][ood_train_dataset]:
                values = np.array(results[metric][ood_train_dataset][ood_test_dataset])
                print(
                    f"trained with {ood_train_dataset}, tested with {ood_test_dataset}: {np.round(values.mean(), 1)} +- {np.round(2 * values.std(), 1)}")